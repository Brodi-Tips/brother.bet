!function(t){function e(e){for(var s,l,r=e[0],o=e[1],c=e[2],d=0,u=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&u.push(i[l][0]),i[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);for(h&&h(e);u.length;)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var s={},i={0:0},n=[];function l(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=t,l.c=s,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(a,s,function(e){return t[e]}.bind(null,s));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var r=window.webpackJsonp=window.webpackJsonp||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var h=o;n.push([120,1,13,2,5,11,18,17,3,4,6,7,8,9,10,12,14,15,16]),a()}({120:function(t,e,a){"use strict";a.r(e);var s=a(76),i=a(66),n=a(67),l=a.n(n),r=a(68),o=a.n(r);a(112),a(114),a(121),a(117),a(118),a(119);class c{constructor({developerMode:t,tf:e,localDB:a,database:s,debugTime:i,delay:n,hash:l}){this.developerMode=t,this.nameTables=["dataSet","gamesSet","teamsSet","aggregatedSet","usersSet","trainSet","addedTrainSet","trainResultSet","trainGoalsSet","trainValidationSet"],this.defaultML={nameDataSet:"trainSet",validationSet:"",batches:1e3,learningRate:.001,start:0,randomize:!0,normalization:!0,validationPercent:.3,plotPercent:1,saveEvery:1e3},this.debugTime=i,this.delay=n,this.hash=l,this.tf=e,this.localDB=a,this.database=s}async getFifaDatabase(t){const e=await this.database.getBundle(t);return e||(await this.delay(2),this.getFifaDatabase(t))}static getJustData(t){let e=[];return t.forEach(t=>t.data.forEach(t=>{e=[...e,t]})),e}static getGameOutput(t){const e=parseInt(t.teamA.firstHalf,10)+parseInt(t.teamA.secondHalf,10)||0,a=parseInt(t.teamB.firstHalf,10)+parseInt(t.teamB.secondHalf,10)||0,s=[0,0,0,e,a];return e>a?s[0]=1:e===a?s[1]=1:s[2]=1,s}static getGameInput(t,e,a={}){const{ranks:s,rankedA:i,rankedB:n}=c.addAndGetRank(a,t,"user"),l=e[t.teamA.team][e[t.teamA.team].length-1],r=e[t.teamB.team][e[t.teamB.team].length-1];return{input:[[...Object.values(l),...Object.values(i)],[...Object.values(r),...Object.values(n)]],ranks:s}}static addAndGetRank(t,e,a){const{0:s,1:i,2:n,3:l,4:r}={...c.getGameOutput(e)},o=e.teamA[a],h=e.teamB[a];t=c.rank(t,o,s,i,n,l,r);return{ranks:t=c.rank(t,h,n,i,s,r,l),rankedA:t[o][t[o].length-1],rankedB:t[h][t[h].length-1]}}static rank(t,e,a,s,i,n,l){let r={};t[e]&&(r=t[e][t[e].length-1]);let o=0,c=0,h=0,d=0,u=0,p=0,g=0,f=0,m=0,b=0,y=0;n>0&&l>0&&(o=1),n<.5&&(c=1),n<1.5&&(h=1),n<2.5&&(d=1),n<3.5&&(u=1),n<4.5&&(p=1),n>.5&&(g=1),n>1.5&&(f=1),n>2.5&&(m=1),n>3.5&&(b=1),n>4.5&&(y=1);const S=r.games||0,w=S+1;return r={games:S+1,wins:((r.wins||0)*S+a)/w,draws:((r.draws||0)*S+s)/w,losses:((r.losses||0)*S+i)/w,goalsPro:((r.goalsPro||0)*S+n)/w,goalsCon:((r.goalsCon||0)*S+l)/w,bothScore:((r.bothScore||0)*S+o)/w,underHalf:((r.underHalf||0)*S+c)/w,underOneAndHalf:((r.underOneAndHalf||0)*S+h)/w,underTwoAndHalf:((r.underTwoAndHalf||0)*S+d)/w,underThreeAndHalf:((r.underThreeAndHalf||0)*S+u)/w,underFourAndHalf:((r.underFourAndHalf||0)*S+p)/w,overHalf:((r.overHalf||0)*S+g)/w,overOneAndHalf:((r.overOneAndHalf||0)*S+f)/w,overTwoAndHalf:((r.overTwoAndHalf||0)*S+m)/w,overThreeAndHalf:((r.overThreeAndHalf||0)*S+b)/w,overFourAndHalf:((r.overFourAndHalf||0)*S+y)/w},t[e]=[...t[e]||[],...[r]||!1],t}static getRankTeams(t){let e={};return t.forEach(t=>{const{ranks:a}=c.addAndGetRank(e,t,"team");e=a}),e}static aggregationTrain(t,e){const a=[];let s={};return t.forEach(t=>{const i=c.getGameOutput(t),{input:n,ranks:l}=c.getGameInput(t,e,s);s=l,a.push({input:n,output:i})}),{aggregated:a,users:s}}addedTrain(t){const e=[];return t.input.forEach(t=>{const a=this.tf.tensor(t[0]),s=this.tf.tensor(t[1]),i=a.sub(s),n=Array.from(i.dataSync());return e.push(n),a.dispose(),s.dispose(),i.dispose(),n}),{input:e,output:t.output}}static splitInputOutput(t){const e=[],a=[];return t.forEach(t=>{e.push(t.input),a.push(t.output)}),{input:e,output:a}}static getTrainValidation(t,e){const a={input:[],output:[]},s={input:[],output:[]};let i=t.input.length;const n=Math.floor(i*e),l=i-n;for(let e=n;e>0;e-=1){const e=Math.floor(Math.random()*Math.floor(i));a.input.push(t.input[e]),a.output.push(t.output[e]),t.input.splice(e,1),t.output.splice(e,1),i-=1}for(let e=l;e>0;e-=1){const e=Math.floor(Math.random()*Math.floor(i));s.input.push(t.input[e]),s.output.push(t.output[e]),i-=1}return{trainSet:a,validationSet:s}}static spliceResultOutput(t){const{input:e}=t;return{input:e,output:t.output.map(t=>t.slice(0,3))}}static spliceGoalsOutput(t){const{input:e}=t;return{input:e,output:t.output.map(t=>t.slice(3,6))}}dataTooler(t){return new Promise(async e=>{const a=await this.saveGetDataSet(t),s=c.getJustData(a),i=c.getRankTeams(s),{aggregated:n,users:l}=c.aggregationTrain(s,i);e({aggregated:n,users:l,teams:i});const r=c.splitInputOutput(n);this.localDB.createTableDB({gamesSet:s}),this.localDB.createTableDB({aggregatedSet:n}),this.localDB.createTableDB({trainSet:r}),this.localDB.createTableDB({teamsSet:i}),this.localDB.createTableDB({usersSet:l}),this.saveTrainAddedSet(r),this.saveResultSet(r),this.saveGoalsSet(r),this.saveTrainValidationSet(r)})}saveGetDataSet(t){return this.localDB.createTableDB({dataSet:t},"date","id"),this.localDB.getIndexed("dataSet","date")}saveTrainAddedSet(t){const e=this.addedTrain(t);this.localDB.createTableDB({addedTrainSet:e})}saveResultSet(t){const e=c.spliceResultOutput(t);this.localDB.createTableDB({trainResultSet:e})}saveGoalsSet(t){const e=c.spliceGoalsOutput(t);this.localDB.createTableDB({trainGoalsSet:e})}saveTrainValidationSet(t){const e=c.getTrainValidation(t,.7);this.localDB.createTableDB({trainValidationSets:e})}static isTruncated(t){const e=[],a=(t,e,a)=>{const s=(i=t,Number.isNaN(i)?"Is NaN!":!0===i?"Is true!":!1===i?"Is false!":null===i?"Is null!":void 0===i?"Is undefined!":""===i&&"Is ''!");var i;return s?(e.problems[a]=s,e):e};return t.forEach(t=>{t.data.forEach((s,i)=>{let n={date:t.date,id:t.id,position:i,data:s,problems:{}};n=a(s.teamA.firstHalf,n,"teamA.firstHalf"),n=a(s.teamA.secondHalf,n,"teamA.secondHalf"),n=a(s.teamB.firstHalf,n,"teamB.firstHalf"),n=a(s.teamB.secondHalf,n,"teamB.secondHalf"),Object.keys(n.problems).length&&e.push(n)})}),e}async registerGid(t){const e=await this.database.getSource("1DzPBoZzRx1JraO48IaiRsTCML75XXLFMj0ZItfaI8-A",t),a=`${(new Date).getYear()+1900}.${(new Date).getMonth()+1}.${(new Date).getDate()}`;if(e){if(e.date!==a){const t=c.isTruncated([e]);return t.length?t:(await this.database.postData(e),!0)}return"Error: Wait to pass the day to add the gId."}return"Error: There is no valid dataSet."}async databaseIsConsistent(){const t=(await this.localDB.getAllDBNames()).map(t=>t.name);if(this.nameTables.filter(e=>!t.includes(e)).length)return!1;const e=this.localDB.getConsistency();if(this.developerMode)return e;return(await this.database.getConsistency()).aggregatedSet===e&&e}async setDatabaseConsistency(){const t=await this.getFifaDatabase(),{aggregated:e}=await this.dataTooler(t),a=this.hash(e);await this.database.postConsistency({aggregatedSet:a})}async forceDatabaseConsistency(){const t=await this.localDB.getConsistency();await this.database.postConsistency({aggregatedSet:t})}async initLocalDatabase(t,e,a,s){if(!t){const t=await this.databaseIsConsistent();if(this.debugTime("databaseIsConsistent"),!t){await this.localDB.deleteAllDB(),this.debugTime("deleteAllDB");const t=await this.getFifaDatabase();this.debugTime("getFifaDatabase");const e=await this.dataTooler(t);return this.debugTime("dataTooler"),this.initLocalDatabase(e.aggregated,e.users,e.teams,t)}try{const t=await this.localDB.getTable("aggregatedSet"),e=await this.localDB.getTable("usersSet"),a=await this.localDB.getTable("teamsSet"),s=await this.localDB.getIndexed("dataSet","date");return this.debugTime("indexedDB"),this.initLocalDatabase(t,e,a,s)}catch(t){return this.debugTime("Catch error"+JSON.stringify(t)),this.localDB.setConsistency(new Date),this.initLocalDatabase()}}return this.defaultML.end=t.length,this.defaultML.max=t.length,this.defaultML.step=t.length,{aggregated:t,users:e,teams:a,data:s}}}var h=a(70),d=a(71),u=a(72),p=a(73);var g=a(74),f=a.n(g),m=a(75),b=a.n(m);new class{constructor({window:t,tf:e,firebase:a,Typed:s,axios:i,Environment:n,Api:l,Database:r,FactoryUtil:o,LocalDB:c,Fifa:h,FactoryEffects:d,DashTables:u,DashStatistics:p,Dashboard:g,tableRanking:f,statistics:m}){this.firebaseConfig={apiKey:"AIzaSyCkYehF5D_TWlTEDNnbHNJt0EVKqLO9NUo",authDomain:"brother-bet.firebaseapp.com",databaseURL:"https://brother-bet.firebaseio.com",projectId:"brother-bet",storageBucket:"brother-bet.appspot.com",messagingSenderId:"1004176095521",appId:"1:1004176095521:web:5e0d2d7f43d7140a5ee660",measurementId:"G-JP3CLKKFHR"},this.origin="",this.tableRanking=f,this.statistics=m,this.window=t,this.tf=e,this.firebase=a,this.Typed=s,this.axios=i,this.Environment=n,this.Api=l,this.Database=r,this.FactoryUtil=o,this.LocalDB=c,this.Fifa=h,this.FactoryEffects=d,this.DashTables=u,this.DashStatistics=p,this.Dashboard=g,this.window.developerMode={status:!1},this.window.passedSeconds={value:0},this.window.initTime={value:0},this.indexedDb={},this.localStorage={},this.layout=this.init()}init(){const{indexedDB:t,localStorage:e,origin:a,document:s}=this.window,{newOrigin:i,developerMode:n}=new this.Environment(a),{api:l}=new this.Api(this.axios,i),r=new this.Database(l),{hash:o,generateDaysOfYear:c,delay:h,filterRankByTarget:d,getRegisteredDays:u,debugTime:p}=this.FactoryUtil,g=new this.LocalDB({hash:o,indexedDB:t,localStorage:e}),f=new this.Fifa({developerMode:n,tf:this.tf,localDB:g,database:r,debugTime:p,delay:h,hash:o}),{getStructure:m}=this.FactoryEffects,b=new this.DashTables({hash:o,generateDaysOfYear:c,getRegisteredDays:u,getStructure:m,tableRanking:this.tableRanking}),y=new this.DashStatistics({getStructure:m,developerMode:n,statistics:this.statistics}),S=new this.Dashboard({document:s,Typed:this.Typed,developerMode:n,debugTime:p,filterRankByTarget:d,hash:o,localDB:g,fifa:f,dashTables:b,dashStatistics:y});return this.window.developerMode.status=n,this.firebase.initializeApp(this.firebaseConfig),this.firebase.analytics(),S}}({window:window,tf:s,firebase:i,Typed:l.a,axios:o.a,Environment:class{constructor(t){this.originDev=["http://localhost:8080","http://127.0.0.1:5500"],this.originSever="http://localhost:5000",this.origin=t,this.developerMode=this.setDeveloperMode(),this.newOrigin=this.setOrigin()}setDeveloperMode(){return this.origin===this.originDev[0]||this.origin===this.originDev[1]}setOrigin(){return this.developerMode?this.originSever:this.origin}},Api:class{constructor(t,e){this.newOrigin=e,this.axios=t,this.api=this.setApi()}setApi(){return this.axios.create({baseURL:this.newOrigin})}},Database:class{constructor(t){this.api=t}async getDays(t="2020"){try{return(await this.api.get("/daysOfYear?year="+t)).data}catch(t){return console.log(t)}}async getSource(t,e){try{return(await this.api.get("/source?",{params:{key:t,sheetId:e}})).data}catch(t){return console.log(t)}}async getConsistency(t="whole"){try{return(await this.api.get("/databaseConsistency?type="+t)).data}catch(t){return console.log(t)}}async postConsistency(t,e="whole"){try{return(await this.api.post("/databaseConsistency?type="+e,t)).data}catch(t){return console.log(t)}}async getBundle(t="2020"){try{return(await this.api.get("/bundle?year="+t)).data}catch(t){return console.log(t)}}async getData(t="2020",e="2020.03.01"){try{return(await this.api.get(`/data?year=${t}&date=${e}`)).data}catch(t){return console.log(t)}}async postData(t){try{return(await this.api.post("/data",t)).data}catch(t){return console.log(t)}}},FactoryUtil:class{static hash(t,e=""){const a=JSON.stringify(t)||"";let s=0;const i=a.length;let n=0;if(i>0)for(;n<i;)s=(s<<5)-s+a.charCodeAt(n+=1)|0;return e+s}static generateDaysOfYear(t=2020){const e=[];for(let a=1;a<13;a+=1){const s=new Date(t,a,0).getDate();for(let i=1;i<s+1;i+=1){const s=new Date(`${t}/${a}/${i}`).toISOString().slice(0,10);e.push(s)}}return e}static saveJsonFile(t){const e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(t))),e.setAttribute("download","filename.json"),e.click()}static downloadJSON(t,e){const a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",e+".json"),document.body.appendChild(s),s.click(),s.remove()}static organizeObject(t){return Object.keys(t).sort((e,a)=>t[e]>t[a]?1:-1).reduce((e,a)=>(e[a]=t[a],e),{})}static delay(t){return new Promise(e=>{setTimeout(e,1e3*t)})}static filterRankByTarget(t,e,a){return t.sort((t,a)=>t[e]<a[e]?-1:t[e]>a[e]?1:0),"name"===e&&!a||"name"!==e&&a?t:t.reverse()}static getRegisteredDays(t){const e={};return t.forEach(t=>{e[t.date]=t.id}),e}static debugTime(t){if(window.developerMode.status){const e=new Date,a=3600*e.getHours()+60*e.getMinutes()+e.getSeconds();0===window.passedSeconds.value&&(window.initTime.value=a),console.log(a-window.passedSeconds.value,a-window.initTime.value,t),window.passedSeconds.value=a}}},LocalDB:class{constructor({hash:t,indexedDB:e,localStorage:a}){this.hash=t,this.indexedDB=e,this.localStorage=a}createTableDB(t,e="",a=""){const s=Object.keys(t)[0];let i=t[s];Array.isArray(i)||(i=[i]);const n=this.indexedDB.open(s,2);n.onupgradeneeded=t=>{const n=t.target.result,l={autoIncrement:!0};a&&(l.keyPath=a);const r=n.createObjectStore(s,l);e&&r.createIndex(e,e,{unique:!0}),r.transaction.oncomplete=()=>{const t=n.transaction(s,"readwrite").objectStore(s);i.forEach(async e=>t.add(e))}},n.onsuccess=t=>{t.target.result.close()},n.onerror=console.error}async getTable(t){return new Promise(e=>{try{this.indexedDB.open(t,2).onsuccess=a=>{const s=a.target.result,i=s.transaction(t,"readonly").objectStore(t).getAll();i.onsuccess=()=>{1===i.result.length&&e(i.result[0]),s.close(),e(i.result)}}}catch(t){throw console.error(t.message),t}})}getIndexed(t,e){return new Promise(a=>{try{this.indexedDB.open(t,2).onsuccess=s=>{const i=s.target.result,n=i.transaction(t,"readonly").objectStore(t).index(e).getAll();n.onsuccess=()=>{i.close(),a(n.result)}}}catch(t){throw console.error(t.message),t}})}async deleteTableDB(t){return this.indexedDB.deleteDatabase(t)}async getAllDBNames(){return this.indexedDB.databases()}async deleteAllDB(){(await this.getAllDBNames()).filter(t=>"firebaseLocalStorageDB"!==t.name).filter(t=>"firebase-installations-database"!==t.name).filter(t=>"validate-browser-context-for-indexeddb-analytics-module"!==t.name).forEach(t=>this.indexedDB.deleteDatabase(t.name))}async downloadDB(){this.getAllDBNames().forEach(async t=>{const e=await this.getTable(t.name);this.util.downloadJSON(e,t.name)})}setCache(t,e){this.localStorage.setItem(t,JSON.stringify(e))}getCache(t){return this.localStorage.getItem(t)}setConsistency(t){this.setCache("consistency",this.hash(t))}getConsistency(){return JSON.parse(this.getCache("consistency"))}},Fifa:c,FactoryEffects:h.a,DashTables:d.a,DashStatistics:u.a,Dashboard:p.a,tableRanking:f.a,statistics:b.a})},70:function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return s}));class s{static getStructure(e){return new Promise(a=>t.when(t.get(e)).done(t=>a(t)))}}}).call(this,a(35))},71:function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return s}));class s{constructor({hash:e,generateDaysOfYear:a,getRegisteredDays:s,getStructure:i,tableRanking:n}){this.varClrSec5="var(--secondary_color_5)",this.varClrTer5="var(--tertiary_color_5)",this.tableRanking=n,this.elTableBodyGames=t("#admin table tbody"),this.hash=e,this.generateDaysOfYear=a,this.getRegisteredDays=s,this.getStructure=i}tableResultGamesCheck(t,e){const a=this.getRegisteredDays(e),s=this.generateDaysOfYear(t);this.elTableBodyGames.html(),s.forEach(t=>{let e=this.varClrTer5,s="close",i="";a[t]&&(e=this.varClrSec5,s="check",i=a[t]),this.elTableBodyGames.append(`\n      <tr>\n        <th class="mdl-data-table__cell--non-numeric">${t}</th>\n        <th class="mdl-data-table__cell--non-numeric">${i}</th>\n        <th class="mdl-data-table__cell--non-numeric">\n          <i style="color: ${e};" class=" material-icons">${s}</i>\n        </th>\n      </tr>\n    `)})}async addTableRank(e,a,s,i,n){const l="#tabRank"+(e[0].toUpperCase()+e.slice(1)+(n||"")),r=this.tableRanking;t(l).html(r),t(l+" thead:nth-child(2) tr").find("i").html("filter_alt"),t(l+" thead:nth-child(2) tr").children().eq(s).find("i").html(i),a.forEach((e,a)=>{const s=""+(e.name+this.hash(e));t(l).find("table").find("tbody").append(`\n      <tr>\n        <th class="link" id="${s}">${e.name}</th>\n        <th class="gold">${a+1}</th>\n        <th>${e.games}</th>\n        <th>${e.goalsPro.toFixed(2)}</th>\n        <th>${e.goalsCon.toFixed(2)}</th>\n        <th >${(100*e.wins).toFixed(1)}%</th>\n        <th >${(100*e.draws).toFixed(1)}%</th>\n        <th >${(100*e.losses).toFixed(1)}%</th>\n        <th >${(100*e.bothScore).toFixed(1)}%</th>\n        <th >${(100*e.underHalf).toFixed(1)}%</th>\n        <th >${(100*e.underOneAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.underTwoAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.underThreeAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.underFourAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.overHalf).toFixed(1)}%</th>\n        <th >${(100*e.overOneAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.overTwoAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.overThreeAndHalf).toFixed(1)}%</th>\n        <th >${(100*e.overFourAndHalf).toFixed(1)}%</th>\n      </tr>\n      `)})}}}).call(this,a(35))},72:function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return s}));class s{constructor({getStructure:e,developerMode:a,statistics:s}){this.developerMode=a,this.statistics=s,this.elTabStatistics=t("#tabStatistics"),this.elContentSection=t(".page-content"),this.getStructure=e}async initStatistics(t,e){const a=await this.statistics;this.elTabStatistics.html(a),this.developerMode||this.elContentSection.parent(this.elTabStatistics).addClass("restrict-area"),s.fillComboboxes(t,e)}static fillComboboxes(e,a){const s=Object.keys(e),i=Object.keys(a),n=["cmbUserA","cmbUserB"],l=["cmbTeamA","cmbTeamB"];s.forEach(e=>n.forEach(a=>t("#"+a).append(`<option value="${e}">${e}</option>`))),i.forEach(e=>l.forEach(a=>t("#"+a).append(`<option value="${e}">${e}</option>`)))}}}).call(this,a(35))},73:function(t,e,a){"use strict";(function(t){a.d(e,"a",(function(){return s}));class s{constructor({document:e,Typed:a,developerMode:s,debugTime:i,filterRankByTarget:n,hash:l,localDB:r,fifa:o,dashTables:c,dashStatistics:h}){this.developerMode=s,this.marketingText=["Hey BRO, lets bet!!","odds are going up","or down, so go by LAY","goaaaaaaaaal!!!!","improve your profit"],this.viewsList=["home","account","method","profit","contact","game","robot","admin"],this.document=t(e),this.elNeuralFactory=t("#neuralFactory"),this.elPredictFactory=t("#predictFactory"),this.elBtnOpenNeural=t("#btnNeural"),this.elBtnOpenPredict=t("#btnPredict"),this.elBtnCloseTrain=t("#btnCloseTrain"),this.elBtnClosePredict=t("#btnClosePredict"),this.elBtnSaveTrain=t("#btnSaveTrain"),this.elBtnCookTrain=t("#btnCookTrain"),this.elBtnCookTrainReal=t("#btnCookTrainReal"),this.elBtnCookPredict=t("#btnCookPredict"),this.elBtnLogout=t("#btnLogout"),this.elBtnFilter=t(".page-content thead:nth-child(2) i"),this.elBtnHistory=t(".page-content tbody th:first-child"),this.elBtnHome=t("#btnHome"),this.elBarProgress=t("#progress"),this.elImgLogo=t("#loaderLogo"),this.elLoader=t("#loader"),this.elPreloader=t("#preloader"),this.elIconStatusCloud=t("#statusCloud"),this.elContentSection=t(".page-content"),this.elCmbUserA=t("#cmbUserA"),this.elCmbUserB=t("#cmbUserB"),this.elCmbTeamB=t("#cmbTeamB"),this.elCmbTeamA=t("#cmbTeamA"),this.elSldBatches=t("#sldBatches"),this.elSldLearningRate=t("#sldLearningRate"),this.elSldStart=t("#sldStart"),this.elSldEnd=t("#sldEnd"),this.elSldPercentValidation=t("#sldPercentValidation"),this.elSldStep=t("#sldStep"),this.elSldPlotPercent=t("#sldPlotPercent"),this.elSldSaveEvery=t("#sldSaveEvery"),this.elSliders=t(".slider"),this.elChip=t(".mdl-chip"),this.elObfuscator=t(".mdl-layout__obfuscator"),this.elLayoutDrawer=t(".mdl-layout__drawer"),this.elExtBudget=t("#txtBudget"),this.MsgSnackbar=t("#demo-snackbar-example"),this.debugTime=i,this.filterRankByTarget=n,this.hash=l,this.window=window,this.localDB=r,this.dashTables=c,this.dashStatistics=h,this.fifa=o,this.Typed=a,this.registerHandlers(),this.initEffect()}registerHandlers(){this.elBtnOpenNeural.off().click(t=>this.openNeuralFactory(t)),this.elBtnOpenPredict.off().click(t=>this.openPredictFactory(t)),this.elBtnCloseTrain.off().click(t=>this.closeNeuralFactory(t)),this.elBtnClosePredict.off().click(t=>this.closePredictFactory(t)),this.elBtnSaveTrain.off().click(t=>this.saveTrain(t)),this.elBtnCookTrain.off().click(t=>this.cookTrain(t)),this.elBtnCookTrainReal.off().click(t=>this.cookTrainReal(t)),this.elBtnCookPredict.off().click(t=>this.cookPredict(t)),this.elBtnLogout.off().click(t=>this.logout(t)),this.elBtnFilter.off().click().click(t=>this.doRankFiltering(t)),this.elBtnHistory.off().click(t=>this.openHistory(t))}async initEffect(){this.processing(),this.debugTime("initEffect"),this.cloudDone(!1);const{aggregated:t,users:e,teams:a,data:s}=await this.fifa.initLocalDatabase();this.localDB.setConsistency(t),this.filterRank("users","name","0",e,"filter_alt"),this.filterRank("teams","name","0",a,"filter_alt"),this.dashTables.tableResultGamesCheck(2020,s),this.dashStatistics.initStatistics(e,a),this.initStorage(),this.initTrain(),this.cloudDone(),this.views(),this.typed(),this.processing(!1),this.preloader(),this.debugTime("end")}openNeuralFactory(t){t.stopImmediatePropagation(),this.elNeuralFactory.show()}openPredictFactory(t){t.stopImmediatePropagation(),this.elPredictFactory.show()}closeNeuralFactory(t){t.stopImmediatePropagation(),this.elNeuralFactory.hide()}closePredictFactory(t){t.stopImmediatePropagation(),this.elPredictFactory.hide()}saveTrain(t){t.stopImmediatePropagation(),this.localDB.setCache(this.getConfig())}cookTrain(t){t.stopImmediatePropagation(),this.getTrainIsTogether(this.getTrain)}cookTrainReal(t){t.stopImmediatePropagation(),this.getTrainIsTogether(this.getNeuralNetwork)}cookPredict(t){t.stopImmediatePropagation(),this.saveConfig()}logout(t){return t.stopImmediatePropagation(),this.document}async doRankFiltering(e){e.stopImmediatePropagation(),await this.filterRank(t(e.target).parents()[5].id.split("tabRank")[1].slice(0,5).toLowerCase(),t(e.target).prev().attr("class"),t(t(e.target).parents()[0]).index(),"",t(e.target).html(),t(`#${t(e.target).parents()[5].id} .page-content tbody th:first-child`).html(),t(e.target).parents()[5].id.split("tabRank")[1].slice(5,15))}async openHistory(e){e.stopImmediatePropagation(),await this.filterRank(t(e.target).parents()[4].id.split("tabRank")[1].split("History")[0].toLowerCase(),"games","1","","filter_alt",t(t(e.target).get(0)).html(),"History")}async filterRank(e,a,s,i,n,l,r){let o=i,c=n;const h=e+"Set";let d=!1;o||(o=await this.localDB.getTable(h)),"filter_alt"===c||"arrow_downward"===c?c="arrow_upward":"arrow_upward"===c&&(c="arrow_downward"),"arrow_downward"===c&&(d=!0);const u=[];if(r){o[l].forEach(t=>{const e=t;e.name=l,u.push(e)}),t(`#btnTabRank${e[0].toUpperCase()+e.slice(1)}History`)[0].click()}else{Object.keys(o).forEach(t=>{const e=o[t][o[t].length-1];e.name=t,u.push(e)})}const p=this.filterRankByTarget(u,a,d);await this.dashTables.addTableRank(e,p,s,c,r),this.registerHandlers()}processing(t=!0){return t?this.elBarProgress.addClass("mdl-progress__indeterminate"):(this.elBarProgress.removeClass("mdl-progress__indeterminate"),this.preloader())}async preloader(){await this.elImgLogo.css("filter","none"),this.elLoader.delay(2e3).fadeOut("slow",()=>this.elPreloader.fadeOut("slow"))}cloudDone(t=!0){return t?this.elIconStatusCloud.css("color","var(--tertiary_color_1)"):this.elIconStatusCloud.css("color","var(--contrast_primary_color_3)")}getGameIsFilled(){const t={teamA:{user:this.elCmbUserA.val(),team:this.elCmbTeamA.val()},teamB:{user:this.elCmbUserB.val(),team:this.elCmbTeamB.val()}};return t.teamA.user&&t.teamA.team&&t.teamB.user&&t.teamB.team?t:this.snackbar("You need fill all fields to predict.")}async fillPrediction(e){if(e){const a=await this.getPredictionIsTogether(e),s=7;t("#tablesPrediction").show(),t("#teamAWin").html(a[0].toFixed(s)),t("#draw").html(a[1].toFixed(s)),t("#teamBWin").html(a[2].toFixed(s)),t("#goalsTeamA").html(a[3].toFixed(s)),t("#goalsTeamB").html(a[4].toFixed(s))}}getTrainIsTogether(t){const e=this.getConfig(),a=JSON.parse(JSON.stringify(e));a.nameDataSet="trainResultSet",t(a);const s=JSON.parse(JSON.stringify(e));s.nameDataSet="trainGoalsSet",t(s)}snackbar(t){this.MsgSnackbar[0].MaterialSnackbar.showSnackbar({message:t})}setBtnsState(t,e){let a=1;!0===e&&(a=0),this.elChip.closest(t).children().eq(1).children()[a].click()}getBtnsState(t){return"rgb(250, 250, 250)"===this.elChip.closest(t).children().eq(1).children().css("backgroundColor")}getConfig(){const t=JSON.parse(JSON.stringify(this.fifa.defaultML));return t.batches=this.elSldBatches.val(),t.learningRate=this.elSldLearningRate.val(),t.start=this.elSldStart.val(),t.end=this.elSldEnd.val(),t.validationPercent=this.elSldPercentValidation.val(),t.step=this.elSldStep.val(),t.plotPercent=this.elSldPlotPercent.val(),t.saveEvery=this.elSldSaveEvery.val(),t.randomize=this.getBtnsState("#btnsShuffle"),t.normalization=this.getBtnsState("#btnsNormalization"),t}initTrain(){const{batches:t,learningRate:e,start:a,end:s,max:i,randomize:n,normalization:l,validationPercent:r,step:o,plotPercent:c}=JSON.parse(this.localDB.getCache("machineLearning"));this.elSldStart.attr("max",i),this.elSldEnd.attr("max",i),this.elSldStep.attr("max",i),this.elSldBatches.val(t),this.elSldLearningRate.val(e),this.elSldStart.val(a),this.elSldEnd.val(s),this.elSldPercentValidation.val(r),this.elSldStep.val(o),this.elSldPlotPercent.val(c),this.updateLabel(),this.setBtnsState("#btnsNormalization",l),this.setBtnsState("#btnsShuffle",n)}initStorage(){this.localDB.getCache("machineLearning")||this.localDB.setCache("machineLearning",JSON.stringify(this.fifa.defaultML))}autoUpdateLabel(){this.elSliders.each((e,a)=>{const s=t(a).find(".mdl-slider");t(a).off().click(t=>this.openHistory(t)),a.addEventListener("input",()=>{t(a).find(".values").html(s.val())})})}updateLabel(){this.elSliders.each((e,a)=>{const s=t(a).find(".mdl-slider");t(a).find(".values").html(s.val())})}typed(){return new this.Typed(".typed",{strings:this.marketingText,typeSpeed:100,backDelay:0})}views(){this.viewsList.forEach(e=>{const a=`#btn${e[0].toUpperCase()}${e.slice(1)}s`;t(a).click(a=>{a.stopImmediatePropagation(),this.viewsList.forEach(e=>{t("#"+e).hide()}),this.elObfuscator.removeClass("is-visible"),this.elLayoutDrawer.removeClass("is-visible"),this.localDB.setCache("view:",e),t("#"+e).toggle(),"home"===e?this.elExtBudget.html("BROTHER.BET"):this.elExtBudget.html(e)})}),this.elBtnHome.click()}}}).call(this,a(35))},74:function(t,e){t.exports='<div class=page-content> <table class="mdl-data-dynamictable mdl-data-table mdl-js-data-table mdl-shadow--2dp"> <thead> <tr> <th> </th> <th> </th> <th> </th> <th class="">Goals</th> <th class=""> Medium </th> <th> </th> <th> </th> <th> </th> <th> </th> <th> </th> <th> </th> <th class=tableOdd>Under </th> <th> </th> <th> </th> <th> </th> <th> </th> <th class=""> Over </th> <th> </th> <th> </th> </tr> </thead> <thead class=tHeadAbove> <tr> <th class=link> <span class=name>Team</span> <i class=material-icons>filter_alt</i> </th> <th class=gold> <span class=name>Ranking</span> </th> <th class=tableOdd> <span class=games>Games</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=goalsPro>Pro</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=goalsCon>Con</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=wins>Wins</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=draws>Draws</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=losses>Losses</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=bothScore>Both Score</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underHalf>0.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underOneAndHalf>1.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underTwoAndHalf>2.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underThreeAndHalf>3.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underFourAndHalf>4.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overHalf>0.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overOneAndHalf>1.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overTwoAndHalf>2.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overThreeAndHalf>3.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overFourAndHalf>4.5</span> <i class=material-icons>filter_alt</i> </th> </tr> </thead> <tbody> </tbody> </table> </div>'},75:function(t,e){t.exports='<div class=page-content> <table class="mdl-data-dynamictable mdl-data-table mdl-js-data-table mdl-shadow--2dp"> <thead> <tr> <th> </th> <th> </th> <th class=""> Goal</th> <th class="">s Med </th> <th> </th> <th> </th> <th> </th> <th> </th> <th> </th> <th> </th> <th class=tableOdd>Under </th> <th> </th> <th> </th> <th> </th> <th> </th> <th class=""> Over </th> <th> </th> <th> </th> </tr> </thead> <thead class=tHeadAbove> <tr> <th class=link> <span class=name>Team</span> <i class=material-icons>filter_alt</i> </th> <th class=gold> <span class=name>Ranking</span> </th> <th class=tableOdd> <span class=games>Games</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=goalsPro>Pro</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=goalsCon>Con</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=wins>Wins</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=draws>Draws</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=losses>Losses</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=bothScore>Both Score</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underHalf>0.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underOneAndHalf>1.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underTwoAndHalf>2.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underThreeAndHalf>3.5</span> <i class=material-icons>filter_alt</i> </th> <th class=tableOdd> <span class=underFourAndHalf>4.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overHalf>0.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overOneAndHalf>1.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overTwoAndHalf>2.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overThreeAndHalf>3.5</span> <i class=material-icons>filter_alt</i> </th> <th class=""> <span class=overFourAndHalf>4.5</span> <i class=material-icons>filter_alt</i> </th> </tr> </thead> <tbody> </tbody> </table> </div>'},79:function(t,e){},80:function(t,e){},91:function(t,e){},94:function(t,e){},95:function(t,e){}});